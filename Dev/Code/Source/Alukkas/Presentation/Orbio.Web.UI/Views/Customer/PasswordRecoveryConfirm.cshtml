@model Orbio.Web.UI.Models.Customer.CustomerModel
<section class="Order_whish">
    <div class="container">
        <ol class="breadcrumb">
            <li><a href="#">Home</a></li>
            <li class="active">Password Recovery</li>
        </ol>

        <div class="order_main">
            <h1>Password recovery</h1>
            <div id="changepwd">
                @Html.ValidationSummary(true)
                <div id="viewinfo">
                    <div>
                        @if (!String.IsNullOrEmpty(Model.Result))
                        {
                            <span>@Model.Result</span>
                        }
                    </div>
                    @using (Html.BeginForm("PasswordRecoveryConfirm", "Customer", new { token = ViewBag.token, email = ViewBag.email }, FormMethod.Post, new { @class = "form-horizontal " }))
                    {
                        @Html.AntiForgeryToken()
                        <div class="form-group">
                            @Html.LabelFor(m => m.NewPassword, new { @for = "NewPassword", @class = "col-sm-2 control-label" })
                            <div class="col-sm-10">
                                @Html.TextBoxFor(m => m.NewPassword, new { type = "Password", @class = "form-control", placeholder = "New Password" })
                                <span id="newvalid" style="display:none" class="field-validation-error" data-valmsg-for="NewPassword" data-valmsg-replace="true">New Password Required</span>
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(m => m.ConfirmNewPassword, new { @for = "ConfirmNewPassword", @class = "col-sm-2 control-label" })
                            <div class="col-sm-10">
                                @Html.TextBoxFor(m => m.ConfirmNewPassword, new { type = "Password", @class = "form-control", placeholder = "ConfirmNewPassword" })
                                <span id="cnfnewvalid" style="display:none" class="field-validation-error" data-valmsg-for="ConfirmNewPassword" data-valmsg-replace="true">Confirm New Password Required</span>
                                <span id="pwdmatch" style="display:none" class="field-validation-error" data-valmsg-for="ConfirmNewPassword" data-valmsg-replace="true">Passwords does not match</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input id="chpwds" type="submit" value="RECOVER" class="Buynow">
                            </div>
                        </div>
                    }

                </div>







        </div>
    </div>
</section>

@section scripts{
    <script>
        $('#chpwds').click(function (e) {
            if ($("#NewPassword").val() == "" && $("#ConfirmNewPassword").val() == "") {
                $("#newvalid").css("display", "");
                $("#cnfnewvalid").css("display", "");
                $("#pwdmatch").css("display", "none");
                return false;
            }
            else if ($("#NewPassword").val() == "") {
                $("#newvalid").css("display", "");
                $("#cnfnewvalid").css("display", "none");
                $("#pwdmatch").css("display", "none");
                return false;
            }
            else if ($("#ConfirmNewPassword").val() == "") {
                $("#newvalid").css("display", "none");
                $("#cnfnewvalid").css("display", "");
                $("#pwdmatch").css("display", "none");
                return false;
            }
            else if ($("#ConfirmNewPassword").val() != $("#NewPassword").val()) {
                $("#newvalid").css("display", "none");
                $("#cnfnewvalid").css("display", "none");
                $("#pwdmatch").css("display", "");
                return false;
            }
        });
    </script>
}