@using PagedList
@using PagedList.Mvc
@model IPagedList<Orbio.Web.UI.Areas.Admin.Models.Product.ProductTagModel>

<div id="prodTag"> 
    <table class="item_admin_order">
        <thead>
        <td>Tag Name</td>
        <td>Tagged Products</td>
        <td>Edit/Delete</td>
        </thead>
        <tbody>
            @if (Model != null)
            {
                if (Model.Count > 0)
                {
                    int count = 1;
                    foreach (var item in Model)
                    {
                        <script type="text/javascript">
                            $(document).ready(function () {
                                toggleOrderItemEdit@(item.Id)(false);
                            });
                        </script>

                        <script type="text/javascript">
                            function toggleOrderItemEdit@(item.Id)(editMode) {
                                if (editMode) {
                                    $('#txtrolename@(item.Id)').hide();
                                    $('#txtname@(item.Id)').show();
                                    $('#btnDeleteOrderItem@(item.Id)').hide();
                                    $('#btnEditOrderItem@(item.Id)').hide();
                                    $('#btnSaveOrderItem@(item.Id)').show();
                                    $('#btnCancelOrderItem@(item.Id)').show();
                                }
                                else {
                                    $('#txtrolename@(item.Id)').show();
                                    $('#txtname@(item.Id)').hide();
                                    $('#btnDeleteOrderItem@(item.Id)').show();
                                    $('#btnEditOrderItem@(item.Id)').show();
                                    $('#btnSaveOrderItem@(item.Id)').hide();
                                    $('#btnCancelOrderItem@(item.Id)').hide();
                                }
                            }
                        </script>

                        if (count == 1)
                        {
                            @:<tr class="first_row">
                            count++;
                        }
                        else
                        {

                            @:<tr class="second_row">
                           count = 1;
                        }
                        using (Html.BeginForm("Update", "ProductTag", new { Id = @item.Id }, FormMethod.Post, new { Id = "formEditTags" + item.Id }))
                        {
                            <td class="action_ring">
                                <label name="txtrolename@(item.Id)" id="txtrolename@(item.Id)">@item.Name</label>
                                <input type="text" name="txtname@(item.Id)" value="@item.Name" id="txtname@(item.Id)" style="display:none;font-size: small;">
                            </td>
                            <td class="action_ring">
                                @item.ProductCount
                            </td>

                            @:<td class="action_ring">
                                @:<input type="submit" name="btnSaveOrderItem@(item.Id)" value="" id="btnSaveOrderItem@(item.Id)" class="edit_save" style="display:none;" />
                                @:<input type="submit" name="btnCancelOrderItem@(item.Id)" value="" onclick="toggleOrderItemEdit@(item.Id)(false);return false; " id="btnCancelOrderItem@(item.Id)" class="edit_cancel" style="display:none;" />
                                @: <input type="button" name="btnEditOrderItem@(item.Id)" value="" onclick="toggleOrderItemEdit@(item.Id)(true);return false; " id="btnEditOrderItem@(item.Id)" class="edit_ring" />
                                @: <a href="@Url.Action("Delete", "ProductTag", new { Id = item.Id })"><input type="button" name="btnDeleteOrderItem@(item.Id)" value="" id="btnDeleteOrderItem@(item.Id)" class="delete_ring" onclick=" return confirm('Are you sure you want to delete'); " /></a>


                                @:</td>
                            }
                            @:</tr>
                    }
                }
                else
                {
                    <tr style="display: table-row;">

                        <td colspan="3">No records to display</td>
                    </tr>
                }
            }
            else
            {
                <tr style="display: table-row;">

                    <td colspan="3">No records to display</td>
                </tr>
            }
        </tbody>
    </table>
    <div class="pagedList" id="contentPager" style="float:right">
        @Html.PagedListPager(Model, page => Url.Action("List", new { page }), PagedListRenderOptions.ClassicPlusFirstAndLast)
    </div>
</div>



